# 更新日誌 - 2026/01/17

### ✨ 新增功能

- **進階互動功能 (Advanced Interactivity)**：
  - **拖捲重排系統**：常用網站、倒數計時器及組件管理現在支援拖動排序。
  - **個人化設定優化**：新增「關閉更新提醒」開關，使用者可自行決定是否接收新版本通知。
  - **首頁組件自訂**：新增功能允許使用者在設計模式下直接拖動調整首頁各個工具區塊的顯示順序。
  - **行事曆翻轉動畫**：行事曆組件新增了流暢的卡片翻轉 3D 動態效果。
- **全新首頁首次設定 (Premium First Time Setup Redesign)**：
  - **震撼視覺的英雄版面**：捨棄傳統卡片式設計，採用現代化大比例英雄版位（Hero Section），結合動態漸層文字 `CMJH-V2` 與高質感背景網格。
  - **擬物化 3D 浮空插圖**：新增精心設計的動態浮空氣泡插圖，包含玻璃擬態（Glassmorphism）與微縮圖標動畫。
  - **載入動畫響應式優化**：讀取畫面現在會依據螢幕大小自動切換「橫向/縱向控制」，確保在手機上也能完美呈現伺服器與本地端的傳輸動效。
  - **極致深色模式體驗**：更深邃的背景配色與高對比文字設計，徹底消除視覺雜亂感。
- **流程圖式資料傳輸動畫**：
  - 將傳統進度條替換為動態流程動畫，顯示粒子流傳輸與實時文件進度（x/839）。
- **底欄滑動指示器 (Sliding Indicator)**：
  - 實作了導覽列的動態滑動底條，切換分頁時會流暢地隨按鈕移動。
- **深色模式視覺優化**：
  - 修正了刪除確認對話框等 `AlertDialog` 標題在深色模式下看不清楚的問題。
  - **主題漸層視覺修復**：修復了「現代漸層」與「主題漸層」在深色模式下，未勾選框（Checkbox）邊框不可見的問題。
  - **配色方案圖示優化**：修復了設定頁面中漸層主題按鈕圖示無法顯示漸層色的問題，現在能正確呈現漸層質感。
  - **組件外觀一致性**：修正了漸層主題勾選框在特定模式下變回方形的問題，確保所有主題的勾選框均維持圓角設計。
- **天氣資訊組件全面重構 (Weather Widget Pro Redesign)**：
  - **專業級視覺層次**：重新設計了天氣組件的版面比例，區分主要溫度區與次要詳細資訊（濕度、風速、紫外線等），提升易讀性。
  - **動態地區選擇器**：更流暢的行政區切換介面，配合精緻的圖標與背景光效。
  - **三日預測卡片**：將原本垂直的預測列表改為更美觀的卡片式設計，並支援展開查看詳細氣溫趨勢。
  - **實時數據指示器**：新增數據更新時間顯示與動態「Live」閃爍燈號，讓資訊獲取更有感。
- **行事曆活動分區優化 (Monthly Events Optimization)**：
  - **活動內容分類**：實作「分頁切換」功能，將「學校校曆」與「個人自訂行程」分離，讓資訊不再混雜。
  - **精緻行程卡片**：為不同類別的行程設計了專屬配色（藍色調/金色調）與日期徽章，並加入了發光狀態指示器。
  - **高效能動態效果**：針對低端設備優化，移除重負擔的 blur 濾鏡與複雜粒子動畫，改用輕量級 CSS 過渡效果。
- **倒數計時器全面升級 (Countdown Timer Pro Overhaul)**:
  - **極致視覺美化**: 採用現代化玻璃擬態 (Glassmorphism) 設計，加入多重漸層背景與動態光效，視覺層次感大幅提升。


### 📝 檔案變更

#### 新增檔案
- 無（本階段核心更新均在既有組件中完成）

#### 修改檔案
- `src/components/FirstTimeSetup.tsx`：
  - 重構設定流邏輯，新增 `welcome` 步驟狀態。
  - 實作數據傳輸動畫組件（包含資料流粒子與伺服器-電腦傳輸視覺）。
  - 更新主題選擇介面的排版比例，提升專業視覺感。
- `src/hooks/SettingsContext.tsx` & `src/components/SettingsPage.tsx`：
  - 新增 `disableUpdatePrompt` 全域設定。
  - 實作「關閉更新提醒」開關 UI 與資料持久化邏輯。
- `src/components/UpdatePrompt.tsx`：
  - 更新 v1.3.1 版本日誌內容。
  - 新增判斷邏輯，尊重使用者的「關閉更新提醒」設定。
- `src/components/ui/alert-dialog.tsx`：
  - 對 `AlertDialogTitle` 增加 `text-foreground` 類名，修復深色模式顯示問題。
- `src/components/CalendarView.tsx`：
  - 恢復月份選擇器的欄位寬度，並整合 3D 翻轉動畫效果。
- `src/App.tsx`：
  - 調整 `FirstTimeSetup` 的觸發流程。
- `src/index.css`：
  - 調整相關漸層主題的邊框透明度，提升深色模式下的辨識度。
  - 移除邊框漸層屬性以確保圓角效果正確生效。
- `src/components/WeatherWidget.tsx`：細部調整組件內部樣式與版面結構。
- `src/components/CalendarView.tsx`：導入 Tab 分頁機制，重構本月行程顯示邏輯。
- `src/components/CountdownTimer.tsx`:
  - 重構 UI 版面，導入玻璃擬態與動態漸層。
  - 實作 `framer-motion` 切換動畫。
  - 優化手動與拖拽排序邏輯。
  - 重構計時與儲存核心邏輯，提升效能。

