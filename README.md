# 崇明國中現代化組件重構專案

這是一個以 https://www.cmjh.tn.edu.tw/ 重新使用 TypeScript 及相關語言重新排版、簡化、自定義、整合而成的 v2 網頁。  
本專案以開源，請自行取用或提交分支。

## ✨ 主要功能

### 🎨 主題系統
支援多種主題切換，提供個性化視覺體驗：
- 淺色模式
- 深色模式
- 藍色主題
- 綠色主題
- 橙色主題
- 紅色主題
- 紫色主題
- 漸層主題

### 📅 倒數計時器
- **自訂倒數計時功能**
  - 支援新增多個自訂倒數計時
  - 可設定標題、目標日期、起始日期
  - 自訂進度條標籤文字
  - 編輯和刪除現有倒數計時
  - 調整倒數計時顯示順序（上移/下移）
  - 重置為預設倒數計時
  - 所有設定持久化保存
- **視覺改進**
  - 靜態藍色→紫色漸變背景
  - 進度條末端柔和白色光暈效果
  - 輕微脈動動畫，突出當前進度

### 🌤️ 天氣預報
使用中央氣象署（CWA）API，支援 22 個縣市選擇和自動定位功能。
- 顯示當前天氣和未來 3 個時段的預報
- 日期、示意圖、溫度、降雨機率
- 響應式卡片設計

### 🔗 常用網站
可自訂的常用網站快速連結
- 可在 `/src/components/CommonSites.tsx` 進行更改
- 格式：`{ name: "範例(顯示名稱)", url: "127.0.0.1(網址)" }`

### 📢 行政公告
- 使用 GitHub Actions 自動爬取學校公告
- 每 5 分鐘更新一次
- 支援翻頁和收藏功能
- 原始碼：`scraper.py`
- 資料位置：`/public/data/announcements.json`

### 📆 行事曆
- 響應式設計，點擊日期查看詳細內容
- 每週手動更新及維護
- 資料位置：`/public/data/calendar.json`

### 🛠️ 小工具系統

#### 隨機抽籤輪盤 🎯
- 支援自訂選項，每行一個
- 完整色塊填滿的 SVG 輪盤（8 種顏色循環）
- 流暢的旋轉動畫（3 秒，緩動曲線）
- 預設填入 1-30，開啟即可使用

#### 分組工具 👥
- 兩種分組模式：按組數 / 按每組人數
- Fisher-Yates 洗牌演算法保證隨機性
- 分組結果以卡片形式展示
- 預設填入 1-30

#### 順序工具 🔀
- 隨機排列名單順序
- Fisher-Yates 洗牌演算法
- 序號標記，清晰呈現
- 支援一鍵複製結果到剪貼簿

#### 時鐘 🕐
- 實時顯示當前時間、日期、星期
- 支援全螢幕顯示/退出
- 顯示多時區參考（台北、東京、紐約）
- 每秒自動更新

#### 計時器 / 碼表 ⏱️
- **倒數計時模式**
  - 自訂分鐘和秒鐘
  - 視覺進度圓環顯示剩餘時間
  - 時間到播放提示音
  - 快速設定按鈕（1/3/5/10/15/30 分鐘）
- **碼表模式**
  - 正數計時，從 0 開始
  - 精確到 0.01 秒
  - Tab 切換兩種模式

## 🔧 技術棧

- **框架**: React + TypeScript
- **路由**: React Router
- **樣式**: Tailwind CSS
- **UI 組件**: Radix UI
- **狀態管理**: React Hooks
- **構建工具**: Vite
- **部署**: Vercel

## 📂 專案結構

```
src/
├── components/          # 主要組件
│   ├── ui/             # UI 基礎組件
│   ├── CountdownTimer.tsx
│   ├── WeatherWidget.tsx
│   ├── Announcements.tsx
│   ├── CalendarView.tsx
│   ├── CommonSites.tsx
│   ├── ToolsSection.tsx
│   ├── ToolLayout.tsx
│   └── ...
├── pages/              # 頁面組件
│   ├── Index.tsx
│   └── tools/         # 工具頁面
│       ├── Wheel.tsx
│       ├── Grouping.tsx
│       ├── Order.tsx
│       ├── Clock.tsx
│       └── Timer.tsx
├── hooks/              # 自訂 Hooks
└── lib/                # 工具函數
```

## 🚀 開發指南

### 安裝依賴
```bash
npm install
```

### 開發模式
```bash
npm run dev
```

### 建構專案
```bash
npm run build
```

### 預覽建構結果
```bash
npm run preview
```

## 🎯 路由配置

- `/` - 首頁
- `/tools/wheel` - 隨機抽籤輪盤
- `/tools/grouping` - 分組工具
- `/tools/order` - 順序工具
- `/tools/clock` - 時鐘
- `/tools/timer` - 計時器 / 碼表

## 🌈 自訂指南

### 修改倒數計時器
可在組件設定對話框中：
- 新增自訂倒數計時
- 編輯現有倒數計時
- 調整顯示順序
- 刪除不需要的倒數計時

### 修改常用網站
編輯 `/src/components/CommonSites.tsx`：
```typescript
{ name: "網站名稱", url: "https://example.com" }
```

### 修改行事曆
編輯 `/public/data/calendar.json`：
```json
{
  "2024-01": [
    {
      "date": "2024-01-15",
      "title": "活動名稱"
    }
  ]
}
```

## 🔄 最新更新（2025-11-24）

### 🎨 主題系統修復
- ✅ **新增紅色主題**：完整的紅色配色方案
- ✅ **新增紫色主題**：完整的紫色配色方案  
- ✅ **修正橙色主題**：原本錯誤使用紫色值，現已修正為正確的橙色
- ✅ 現已支援完整的 8 個主題選項

### 🎉 首次訪問設定畫面
- ✅ **載入動畫**：3 秒精美轉圈動畫，搭配漸變背景
- ✅ **主題預覽卡片**：視覺化展示所有 8 個主題
- ✅ **互動效果**：選中主題有放大和打勾標記
- ✅ **智能記憶**：完成設定後不再顯示，直接進入應用
- ✅ 歡迎標題：「歡迎使用崇明國中-v2」

### 📱 倒數計時器手機優化
- ✅ **修復標題截斷**：標題不再只顯示三個字
- ✅ **自動換行**：長標題在手機上自動換行顯示完整內容
- ✅ **工具按鈕分行**：小螢幕上標題和按鈕自動分行，不會擠壓

### 技術改進
- ✅ 新增淡入動畫效果
- ✅ 完善 localStorage 主題記憶機制
- ✅ 優化首次載入體驗

## 📄 授權

本專案以開源形式發布，歡迎自由取用或提交分支。

## 🤝 貢獻

歡迎提交 Issue 或 Pull Request！

**專案持續更新中！**
